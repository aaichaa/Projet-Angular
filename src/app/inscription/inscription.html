<div class="d-flex justify-content-center align-items-center vh-100 bg-light">
  <div class="card shadow p-4" style="width: 100%; max-width: 400px;">
    <h3 class="text-center mb-4">Créer un compte</h3>

    <div *ngIf="erreur" class="alert alert-danger" role="alert">{{ erreur }}</div>
    <div *ngIf="message" class="alert alert-success" role="alert">{{ message }}</div>

    <form (ngSubmit)="inscrire()">
      <div class="mb-3">
        <input
          type="text"
          class="form-control"
          placeholder="Prénom"
          [(ngModel)]="firstname"
          name="firstname"
          required
        />
      </div>

      <div class="mb-3">
        <input
          type="text"
          class="form-control"
          placeholder="Nom"
          [(ngModel)]="lastname"
          name="lastname"
          required
        />
      </div>

      <div class="mb-3">
        <input
          type="email"
          class="form-control"
          placeholder="Email"
          [(ngModel)]="email"
          name="email"
          required
        />
      </div>

      <!-- Champ mot de passe avec œil -->
      <div class="mb-3 position-relative">
        <input
          [type]="showPassword ? 'text' : 'password'"
          class="form-control"
          placeholder="Mot de passe"
          [(ngModel)]="password"
          name="password"
          required
        />
        <button
          type="button"
          (click)="togglePasswordVisibility()"
          class="btn btn-sm btn-outline-secondary position-absolute end-0 top-50 translate-middle-y me-2"
          style="z-index: 10;"
        >
          {{ showPassword ? '🙈' : '👁️' }}
        </button>
      </div>

      <div class="mb-3">
        <input
          type="text"
          class="form-control"
          placeholder="Adresse (facultative)"
          [(ngModel)]="adresse"
          name="adresse"
        />
      </div>

      <div class="d-grid gap-2">
        <button type="submit" class="btn btn-primary">Valider</button>
        <button type="button" class="btn btn-secondary" (click)="annuler()">Annuler</button>
      </div>
    </form>
  </div>
</div>
